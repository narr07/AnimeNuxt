<template>
  <div
    class="h-screen opacity-60 w-screen flex overflow-hidden justify-center items-center absolute z-negative pointer-events-none inset-0"
  >
    <svg class="blur-3xl" width="100%" height="100%" viewBox="0 0 1500 1500" preserveAspectRatio="xMidYMid meet" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path id="morphing-path" fill-rule="evenodd" clip-rule="evenodd" d="M324.231 237.025C362.9 229.519 395.138 264.801 423.884 291.751C453.985 319.971 488.071 350.211 488.978 391.477C489.896 433.25 461.68 470.5 428.367 495.689C399.032 517.871 360.998 515.839 324.231 516.048C287.135 516.259 245.183 523.083 218.906 496.878C192.61 470.655 191.325 427.756 199.317 391.477C205.925 361.476 237.641 348.031 256.954 324.151C280.94 294.493 286.801 244.29 324.231 237.025Z" fill="#00DC82" />

    </svg>
  </div>
</template>

<script setup lang="ts">
import { onMounted } from 'vue';
import { useNuxtApp } from '#app';

const { $anime } = useNuxtApp();

const D = [
  'M336.715 222.521C372.632 225.766 397.811 253.733 425.195 277.113C456.355 303.716 501.618 324.443 503.906 365.263C506.228 406.694 465.2 434.584 435.66 463.838C406.259 492.955 378.055 533.922 336.715 530.835C296.095 527.803 279.558 479.576 251.565 450.094C225.003 422.118 183.722 403.542 179.509 365.263C175.06 324.844 200.426 286.924 230.591 259.535C259.388 233.387 297.912 219.016 336.715 222.521Z',
  'M337.085 258.253C363.648 260.012 384.604 276.494 405.838 292.568C432.469 312.727 466.306 328.721 473.338 361.394C481.409 398.894 471.025 441.227 443.597 468.017C416.379 494.603 375.07 496.305 337.085 494.48C301.328 492.763 265.295 483.932 240.325 458.254C215.64 432.871 203.995 396.628 207.663 361.394C211.024 329.111 233.224 303.033 258.591 282.817C280.886 265.049 308.649 256.37 337.085 258.253Z',
  'M356.908 242.108C392.305 244.954 428.874 253.729 449.785 282.389C469.847 309.884 459.839 345.242 456.888 379.134C452.88 425.172 471.443 487.347 430.127 508.166C388.813 528.983 349.648 477.311 310.296 452.998C279.112 433.732 243.246 419.544 230.887 385.069C216.691 345.475 215.347 297.348 243.174 265.78C270.095 235.241 316.296 238.843 356.908 242.108Z',
  'M343.885 135.503C420.095 151.453 425.996 254.314 477.103 313.027C534.315 378.754 672.049 404.714 652.029 489.505C631.98 574.417 499.611 543.287 416.465 569.846C357.811 588.582 308.012 631.516 247.801 618.626C163.311 600.539 66.634 570.516 38.3748 488.904C8.17931 401.7 55.4388 307.238 115.801 237.413C173.085 171.15 258.127 117.556 343.885 135.503Z',
  'M365.422 4.60622C467.843 23.9294 498.605 146.068 553.77 234.498C596.607 303.168 644.578 366.904 641.892 447.795C638.269 556.905 636.053 695.063 536.953 740.87C438.21 786.511 335.928 693.131 247.164 630.249C181.294 583.586 143.707 517.278 114.889 441.875C76.6549 341.834 7.09115 234.331 60.3332 141.404C118.624 39.6653 250.196 -17.1326 365.422 4.60622Z',
  'M357.936 142.942C457.757 133.966 574.732 75.1639 643.676 147.907C714.16 222.275 675.784 344.214 639.523 440.047C609.896 518.349 545.611 572.551 469.669 607.792C395.419 642.248 314.871 652.171 237.039 626.822C140.975 595.534 29.0186 554.463 4.78207 456.382C-19.674 357.412 53.8615 261.761 130.108 194.089C191.353 139.732 276.378 150.276 357.936 142.942Z',

];

// Function to get a random path
function getRandomPath() {
  const randomIndex = Math.floor(Math.random() * D.length);
  return D[randomIndex];
}

onMounted(() => {
  const tl = $anime.timeline({
    easing: 'easeOutExpo',
    duration: 3000,
    loop: true,
    direction: 'alternate',
  });
  tl
    .add({
      targets: '#morphing-path',
      scale: [
        { value: 1, duration: 500 },
        { value: () => $anime.random(0.3, 3), duration: 500 },
      ],
      translateX: [0, 500],
      translateY: [0, 500],
      d: [
        { value: 'M336.715 222.521C372.632 225.766 397.811 253.733 425.195 277.113C456.355 303.716 501.618 324.443 503.906 365.263C506.228 406.694 465.2 434.584 435.66 463.838C406.259 492.955 378.055 533.922 336.715 530.835C296.095 527.803 279.558 479.576 251.565 450.094C225.003 422.118 183.722 403.542 179.509 365.263C175.06 324.844 200.426 286.924 230.591 259.535C259.388 233.387 297.912 219.016 336.715 222.521Z' },

      ],
    }).add({
      targets: '#morphing-path',
      scale: [
        { value: 1, duration: 500 },
        { value: () => $anime.random(0.3, 3), duration: 500 },
      ],
      translateX: [0, 500],
      translateY: [0, 500],
      d: [

        { value: getRandomPath },
      ],
    });
});

// $anime({
//   targets: '#morphing-path',
//   scale: [
//     { value: 1, duration: 500 },
//     { value: () => $anime.random(0.3, 3), duration: 500 },
//   ],
// translateX: [
//   { value: 0, duration: 500 },
//   { value: () => $anime.random(-50, 50), duration: 500 },
// ],
// translateY: [
//   { value: 0, duration: 500 },
//   { value: () => $anime.random(-50, 50), duration: 500 },
// ],
//     d: [

//       { value: 'M336.715 222.521C372.632 225.766 397.811 253.733 425.195 277.113C456.355 303.716 501.618 324.443 503.906 365.263C506.228 406.694 465.2 434.584 435.66 463.838C406.259 492.955 378.055 533.922 336.715 530.835C296.095 527.803 279.558 479.576 251.565 450.094C225.003 422.118 183.722 403.542 179.509 365.263C175.06 324.844 200.426 286.924 230.591 259.535C259.388 233.387 297.912 219.016 336.715 222.521Z' },
//       { value: 'M337.085 258.253C363.648 260.012 384.604 276.494 405.838 292.568C432.469 312.727 466.306 328.721 473.338 361.394C481.409 398.894 471.025 441.227 443.597 468.017C416.379 494.603 375.07 496.305 337.085 494.48C301.328 492.763 265.295 483.932 240.325 458.254C215.64 432.871 203.995 396.628 207.663 361.394C211.024 329.111 233.224 303.033 258.591 282.817C280.886 265.049 308.649 256.37 337.085 258.253Z' },
//       { value: 'M356.908 242.108C392.305 244.954 428.874 253.729 449.785 282.389C469.847 309.884 459.839 345.242 456.888 379.134C452.88 425.172 471.443 487.347 430.127 508.166C388.813 528.983 349.648 477.311 310.296 452.998C279.112 433.732 243.246 419.544 230.887 385.069C216.691 345.475 215.347 297.348 243.174 265.78C270.095 235.241 316.296 238.843 356.908 242.108Z' },
//       { value: 'M343.885 135.503C420.095 151.453 425.996 254.314 477.103 313.027C534.315 378.754 672.049 404.714 652.029 489.505C631.98 574.417 499.611 543.287 416.465 569.846C357.811 588.582 308.012 631.516 247.801 618.626C163.311 600.539 66.634 570.516 38.3748 488.904C8.17931 401.7 55.4388 307.238 115.801 237.413C173.085 171.15 258.127 117.556 343.885 135.503Z' },
//       { value: 'M365.422 4.60622C467.843 23.9294 498.605 146.068 553.77 234.498C596.607 303.168 644.578 366.904 641.892 447.795C638.269 556.905 636.053 695.063 536.953 740.87C438.21 786.511 335.928 693.131 247.164 630.249C181.294 583.586 143.707 517.278 114.889 441.875C76.6549 341.834 7.09115 234.331 60.3332 141.404C118.624 39.6653 250.196 -17.1326 365.422 4.60622Z' },
//       { value: 'M357.936 142.942C457.757 133.966 574.732 75.1639 643.676 147.907C714.16 222.275 675.784 344.214 639.523 440.047C609.896 518.349 545.611 572.551 469.669 607.792C395.419 642.248 314.871 652.171 237.039 626.822C140.975 595.534 29.0186 554.463 4.78207 456.382C-19.674 357.412 53.8615 261.761 130.108 194.089C191.353 139.732 276.378 150.276 357.936 142.942Z' },

//     ],
//     easing: 'easeOutQuad',
//     duration: 2000,
//     direction: 'alternate',
//     loop: true,
//     transformOrigin: 'center center',
//   });
// });
</script>

<style scoped>
#morphing-path {
  transform-origin: center center;
}
</style>
